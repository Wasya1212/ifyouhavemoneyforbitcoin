(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(163)},155:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(101),c=a.n(o),i=a(49),r=a(50),l=a(69),u=a(51),p=a(70),m=a(31),d=a(115),h=a.n(d),b=a(102),v=a.n(b),f=a(169),E=a(175),y=a(172),g=a(170),O=a(174),N=a(173),_=a(171),S=a(168),w=a(167),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return[t+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)*a,e]},C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).startTrade=function(){a.props.startTrade()},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"App-header"},s.a.createElement("article",{className:"App-header__App-logo"},s.a.createElement("a",{href:"/"},s.a.createElement("img",{src:"/logo.png",alt:"logo"}))),s.a.createElement("article",{className:"App-header__App-user"},s.a.createElement("div",{className:"App-user-profile"},s.a.createElement("div",{className:"App-user-profile__start-trade"},s.a.createElement("button",{className:"btn btn-trading",onClick:this.startTrade},"Trade")),s.a.createElement("div",{className:"App-user-profile__money dolar"},this.props.user.money),s.a.createElement("div",{className:"App-user-profile__bitcoins bitcoin"},this.props.user.bitcoins_count),s.a.createElement("div",{className:"App-user-profile__info"},s.a.createElement("div",{className:"App-user-profile__picture"},s.a.createElement("a",{href:"/"},s.a.createElement("img",{src:"/avatar.png",alt:"avatar"}))),s.a.createElement("div",{className:"App-user-profile__username"},s.a.createElement("a",{href:"/"},s.a.createElement("span",null,this.props.user.username)))))))}}]),t}(n.Component),T=function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("span",{className:"copyright"},"\xa9 Copyright 2018. All rights reserved"),s.a.createElement("span",{className:"author"},"Designed & produced by Wasya1212"))},k=a(103),F=a(104),A=a.n(F),U={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};A.a.setAppElement("#root");var B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).changeTradeType=function(){a.setState({money:0,bitcoin:0}),a.setState({cashOut:!a.state.cashOut})},a.handleBitcoinInput=function(e){a.setState({money:0,bitcoin:0}),a.setState({money:e.currentTarget.value||0})},a.handleMoneyInput=function(e){a.setState({money:0,bitcoin:0}),a.setState({bitcoin:e.currentTarget.value||0})},a.buyBitcoin=function(){a.setState({money:0,bitcoin:0}),a.props.buyBitcoin(a.state.bitcoin)},a.cashOut=function(){a.setState({money:0,bitcoin:0}),a.props.cashOut(a.state.money)},a.state={cashOut:!1,money:0,bitcoin:0},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e;return s.a.createElement(A.a,{isOpen:this.props.isOpen,style:U},this.state.cashOut&&s.a.createElement("div",{className:"App-trade"},s.a.createElement("h2",null,"Cash out"),s.a.createElement("p",{className:"trade-currency-count dolar"},this.props.user.money," \u2192 ",(parseFloat(this.props.user.money)+parseFloat(this.state.money)).toFixed(2)),s.a.createElement("p",{className:"trade-currency-count bitcoin"},this.props.user.bitcoins_count," \u2192 ",(parseFloat(this.props.user.bitcoins_count)-parseFloat(this.state.money/this.props.bitcoin.cost)).toFixed(8)),s.a.createElement("button",{className:"btn btn-change",onClick:this.changeTradeType},"Buy Bitcoin"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{onChange:this.handleBitcoinInput,placeholder:"Enter value of dollars...",type:"number"})),s.a.createElement("div",{className:"App-trade__control"},s.a.createElement("button",{className:"btn btn-confirm",onClick:this.cashOut},"Confirm"),s.a.createElement("button",(e={className:"btn btn-confirm"},Object(k.a)(e,"className","btn btn-close"),Object(k.a)(e,"onClick",this.props.closeTradeModal),e),"Cancel"))),!this.state.cashOut&&s.a.createElement("div",{className:"App-trade"},s.a.createElement("h2",null,"Buy Bitcoin"),s.a.createElement("p",{className:"trade-currency-count dolar"},this.props.user.money," \u2192 ",(this.props.user.money-this.state.bitcoin*this.props.bitcoin.cost).toFixed(2)),s.a.createElement("p",{className:"trade-currency-count bitcoin"},this.props.user.bitcoins_count," \u2192 ",parseFloat(this.state.bitcoin)+parseFloat(this.props.user.bitcoins_count)),s.a.createElement("button",{className:"btn btn-change",onClick:this.changeTradeType},"Cash out"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{onChange:this.handleMoneyInput,placeholder:"Enter value of bitcoins...",type:"number"})),s.a.createElement("div",{className:"App-trade__control"},s.a.createElement("button",{className:"btn btn-confirm",onClick:this.buyBitcoin},"Confirm"),s.a.createElement("button",{className:"btn btn-close",onClick:this.props.closeTradeModal},"Cancel"))))}}]),t}(n.Component),L=(a(155),1e5);v.a.setOptions({chart:{height:"39.375%"}});var D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).buyBitcoin=function(e){e*a.state.bitcoin.cost>a.state.user.money?alert("Not enaught of money!"):(a.setState({user:Object.assign(a.state.user,{money:parseFloat((a.state.user.money-e*a.state.bitcoin.cost).toFixed(2)),bitcoins_count:(parseFloat(a.state.user.bitcoins_count)+parseFloat(e)).toFixed(8)})}),a.closeModal())},a.cashOut=function(e){a.state.user.bitcoins_count-e/a.state.bitcoin.cost<0?alert("Not enaught of Bitcoins!"):(a.setState({user:Object.assign(a.state.user,{bitcoins_count:(a.state.user.bitcoins_count-parseFloat(e/a.state.bitcoin.cost)).toFixed(8),money:(parseFloat(a.state.user.money)+parseFloat(e)).toFixed(2)})}),a.closeModal())},a.showModal=function(){a.setState({isOpen:!0})},a.closeModal=function(){a.setState({isOpen:!1})},a.updateLiveData=a.updateLiveData.bind(Object(m.a)(Object(m.a)(a))),a.handleStartLiveUpdate=a.handleStartLiveUpdate.bind(Object(m.a)(Object(m.a)(a))),a.handleStopLiveUpdate=a.handleStopLiveUpdate.bind(Object(m.a)(Object(m.a)(a))),a.state={user:{username:"Some User",money:L,bitcoins_count:0,profit:0},bitcoin:{name:"BTCUSD",fullName:"Bitcoin",cost:0,grow_vector:!1},data:[],liveUpdate:!1,isOpen:!1},a.modal=null,a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.handleStartLiveUpdate()}},{key:"updateLiveData",value:function(){var e=this,t=this.state.data;h()({method:"post",url:"/",data:{time:Date.now()},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;return e.setState({bitcoin:Object.assign(e.state.bitcoin,{cost:a.cost,grow_vector:a.cost-e.state.bitcoin.cost>=0}),user:Object.assign(e.state.user,{profit:function(e,t,a,n){return(parseFloat(t)+a*n-e).toFixed(2)}(L,e.state.user.money,e.state.user.bitcoins_count,a.cost)})}),a.cost}).then(function(a){e.setState({data:function(e,t){t||(t=j(100));var a=e.slice(0);return a.push(t),a}(t,j(a))})}).then(function(){e.state.data.length>50&&e.setState({data:e.state.data.slice(1)})}).catch(function(e){console.error(e)})}},{key:"handleStartLiveUpdate",value:function(e){e&&e.preventDefault(),this.setState({liveUpdate:window.setInterval(this.updateLiveData,2e3)})}},{key:"handleStopLiveUpdate",value:function(e){e.preventDefault(),window.clearInterval(this.state.liveUpdate),this.setState({liveUpdate:!1})}},{key:"render",value:function(){var e=this.state,t=e.data;e.liveUpdate;return s.a.createElement("div",{className:"app"},s.a.createElement(B,{user:this.state.user,bitcoin:this.state.bitcoin,isOpen:this.state.isOpen,closeTradeModal:this.closeModal,buyBitcoin:this.buyBitcoin,cashOut:this.cashOut,ref:"modal"}),s.a.createElement(C,{user:this.state.user,startTrade:this.showModal}),s.a.createElement("section",{className:"App-crypto"},s.a.createElement("div",{className:"App-crypto__user-profit dolar"},"You earned: ",s.a.createElement("strong",null,this.state.user.profit)),!this.state.bitcoin.grow_vector&&s.a.createElement("div",{className:"grow-vector grow-vector-down"},"\u2193\u2193\u2193"),this.state.bitcoin.grow_vector&&s.a.createElement("div",{className:"grow-vector grow-vector-up"},"\u2191\u2191\u2191")),s.a.createElement(f.a,null,s.a.createElement(E.a,null),s.a.createElement(y.a,null,"".concat(this.state.bitcoin.name," Course: ").concat(this.state.bitcoin.cost)),s.a.createElement(g.a,null,s.a.createElement(g.a.Title,null,"Legend")),s.a.createElement(O.a,{valueSuffix:" USD"}),s.a.createElement(N.a,{type:"datetime"},s.a.createElement(N.a.Title,null,"Time")),s.a.createElement(_.a,null,s.a.createElement(_.a.Title,null,"Pressure (m)"),s.a.createElement(S.a,{name:"Bitcoin",data:t}))),s.a.createElement("div",null,!this.state.liveUpdate&&s.a.createElement("button",{className:"btn btn-success",onClick:this.handleStartLiveUpdate},"Live update"),this.state.liveUpdate&&s.a.createElement("button",{className:"btn btn-danger",onClick:this.handleStopLiveUpdate},"Stop update")),s.a.createElement(T,null))}}]),t}(n.Component),M=Object(w.a)(D,v.a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,2,1]]]);
//# sourceMappingURL=main.439e34a1.chunk.js.map